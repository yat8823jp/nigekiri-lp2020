(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

jQuery(function ($) {});

},{}],2:[function(require,module,exports){
'use strict';

jQuery(function ($) {
	var order = require('./order.js');
	var config = require('./config.js');
});

},{"./config.js":1,"./order.js":3}],3:[function(require,module,exports){
'use strict';

jQuery(function ($) {
	var $title = $('.js-order-item__block').find('.js-order-title').text();
	var frm_cnt = 1;
	var max_order = 100; //オーダー最大数
	var taxLow = 1.08;
	var taxHigh = 1.1;
	var deliveryFee = 500;
	var delveryFeeTax = deliveryFee * taxHigh;
	titleNumber($title, frm_cnt);
	totalPrice(frm_cnt);
	priceCalculation();

	radioVal();

	/*
 	注文追加ボタン
 */
 	$(document).on('click', '.js-add-order-bt', function () {
		if (frm_cnt < max_order) {
			var $item = $('.js-order-item');
			var original = $('#order-item\\[' + "0" + '\\]');

			frm_cnt++;

			//データ複製
			original.clone(false).insertAfter($('.js-order-item').last()).attr('id', 'order-item[' + frm_cnt + ']').end().find('input, select').each(function (idx, obj) {
				$(obj).attr({
					id: $(obj).attr('id').replace(/\[[0-9]\]+$/, '[' + frm_cnt + ']'),
					name: $(obj).attr('name').replace(/\[[0-9]\]+$/, '[' + frm_cnt + ']')
				});
				$(obj).val('');
			});
			//labelデータ変更
			$('#order-item\\[' + frm_cnt + '\\]').find('label').each(function (idx, obj) {
				$(obj).attr({
					for: $(obj).attr('for').replace(/\[[0-9]\]+$/, '[' + frm_cnt + ']')
				});
			});
			// clone取得
			var clone = $('#order-item\\[' + frm_cnt + '\\]');

			clone_bugfix(frm_cnt);

			//ブロックタイトル調整
			titleNumber($title, frm_cnt);

			//ラジオのプライスをhiddenに
			radioVal();
		} else {
			//注文数が20を超えている場合は追加ボタンを非表示
			$('.js-add-order-bt').css("display", "none");
		}
		totalPrice(frm_cnt);
		priceCalculation();
	});

	/*
 	データ消去処理
 */
	$(document).on('click', '.js-del-order-bt', function () {
		var removeObj = $(this).parent();
		removeObj.fadeOut('fast', function () {
			removeObj.remove();

			titleNumber($title, frm_cnt);
			radioVal();
			totalPrice(frm_cnt);
			priceCalculation();
		});
	});

	/*
 	商品チェックボックス判定
 */
	function totalPrice(frm_cnt) {
		$('#order-item\\[' + frm_cnt + '\\]').find("input, select").on("change", function (idx, obj) {
			priceCalculation();
		});
	}

	/*
 	合計金額算出
 */
	function priceCalculation() {
		var cnt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
		var one_price = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];

		var $checked_obj = [{}];
		for (var i = 0; i < max_order; i++) {
			one_price[i] = [];
		}
		//ラジオのプライスをhiddenに渡す
		radioVal();

		$('.js-order-item__block').children('.js-order-item').each(function (idx, objall) {
			//注文情報リストのラップタグ
			var one_price_shaping = 0;
			var total_price = void 0;

			//サラダの処理
			$(objall).find('input:radio:checked, input:checkbox:checked').each(function (idx2, chkobj) {
				//チェックの入っているデータを検索
				$checked_obj = {
					index: parseInt(frm_cnt),
					price: parseInt($(chkobj).data('price')),
					quantity: parseInt($(this).parents('.js-order-item').find('select').val())
				};
				one_price[idx][cnt] = parseInt($checked_obj.price) * $checked_obj.quantity;
				cnt++;
			});
			one_price_shaping = one_price.filter(function (e) {
				return e.length;
			});
			total_price = one_price_shaping.reduce(function (a, b) {
				return a.concat(b);
			}).reduce(function (a, b) {
				return a + b;
			});
			total_price = total_price * taxLow + delveryFeeTax;

			$('#total-price').html(Math.floor(total_price));
		});
	}

	/*
 	タイトルにナンバリング追加
 */
	function titleNumber($title, frm_cnt) {
		$('.js-order-item__block').find('.js-order-title').each(function (index, formObj) {
			$(this).text($title + (index + 1) + "つめ");
		});
	}

	/*
 	クローン時にチェックがはいらないバグフィックス
 */
	function clone_bugfix(frm_cnt) {
		//cloneでチェックボックスのデータが取得できないバグ対応
		var itemArr = [];
		var priceArr = [];
		$('#order-item\\[' + 1 + '\\]').find('input, select').each(function (idx, obj) {
			itemArr[$(this).attr('name')] = $(this).val();
			priceArr[$(this).attr('name') + '-price'] = $(this).attr('data-price');
		});
		$('#order-item\\[' + frm_cnt + '\\]').find('input, select').each(function (idx, obj) {
			var objname = $(obj).attr('name').replace('[' + frm_cnt + ']', '[' + 1 + ']');
			$(obj).attr('name').replace('[' + frm_cnt + ']', '[' + 1 + ']'); //select option の selected を継承
			if ($(this).attr('name') == 'order-item-num[' + frm_cnt + ']') {
				//オーダー番号のみ番号を変更して格納
				$(this).val(frm_cnt);
			} else if ($(this).attr('id') == 'green-salad-a-r[' + frm_cnt + ']') {
				//シャキシャキサラダ レギュラー
				$(this).val('シャキシャキサラダ レギュラー');
				$(this).prop('checked', true);
			} else if ($(this).attr('id') == 'green-salad-a-l[' + frm_cnt + ']') {
				//シャキシャキサラダ ラージ
				$(this).val('シャキシャキサラダ ラージ');
			} else if ($(this).attr('id') == 'green-salad-b-r[' + frm_cnt + ']') {
				//4種のグリーンサラダ レギュラー
				$(this).val('4種のグリーンサラダ レギュラー');
			} else if ($(this).attr('id') == 'green-salad-b-l[' + frm_cnt + ']') {
				//4種のグリーンサラダ ラージ
				$(this).val('4種のグリーンサラダ ラージ');
			} else if ($(this).attr('id') == 'fresh-salad-r[' + frm_cnt + ']') {
				//4種のグリーンサラダ ラージ
				$(this).val('フレッシュサラダ レギュラー');
			} else if ($(this).attr('id') == 'fresh-salad-l[' + frm_cnt + ']') {
				//4種のグリーンサラダ ラージ
				$(this).val('フレッシュサラダ ラージ');
			} else if ($(this).attr('id') == 'labegi-salad-r[' + frm_cnt + ']') {
				//4種のグリーンサラダ ラージ
				$(this).val('ラベジサラダ レギュラー');
			} else if ($(this).attr('id') == 'labegi-salad-l[' + frm_cnt + ']') {
				//4種のグリーンサラダ ラージ
				$(this).val('ラベジサラダ ラージ');
			} else if ($(this).attr('id') == 'smsalmon-mush-salad-r[' + frm_cnt + ']') {
				//4種のグリーンサラダ ラージ
				$(this).val('サーモン&マッシュルームサラダ レギュラー');
			} else if ($(this).attr('id') == 'smsalmon-mush-salad-l[' + frm_cnt + ']') {
				//4種のグリーンサラダ ラージ
				$(this).val('サーモン&マッシュルームサラダ ラージ');
			} else if ($(this).attr('id') == 'nuts-salad-r[' + frm_cnt + ']') {
				//4種のグリーンサラダ ラージ
				$(this).val('ナッツサラダ レギュラー');
			} else if ($(this).attr('id') == 'nuts-salad-l[' + frm_cnt + ']') {
				//4種のグリーンサラダ ラージ
				$(this).val('ナッツサラダ ラージ');
			} else if ($(this).attr('id') == 'onion-salad-r[' + frm_cnt + ']') {
				//4種のグリーンサラダ ラージ
				$(this).val('オニオンサラダ レギュラー');
			} else if ($(this).attr('id') == 'quantity[' + frm_cnt + ']') {
				$(this).val(1); //select（注文数） はデフォルトを1に
			} else if ($(this).attr('name') == 'green-salad-price[' + frm_cnt + ']') {
				$(this).val(frm_cnt);
			} else {
				//それ以外は値を継承
				$(this).val(itemArr[objname]);
				$(this).data('price', priceArr[objname + '-price']);
			}
		});
	}

	/*
 	ラジオのプライスをhiddenに渡す
 */
	function radioVal() {
		$('.js-order-item__block').children('.js-order-item').find('input:radio:checked').next('input:hidden').val($('.js-order-item__block').children('.js-order-item').find('input:radio:checked').data('price'));
	}

	function valiDation() {}
});

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXYvc3JjL3NjcmlwdHMvY29uZmlnLmpzIiwiZGV2L3NyYy9zY3JpcHRzL21haW4uanMiLCJkZXYvc3JjL3NjcmlwdHMvb3JkZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLE9BQVEsVUFBVSxDQUFWLEVBQWMsQ0FDckIsQ0FERDs7Ozs7QUNBQSxPQUFRLFVBQVUsQ0FBVixFQUFjO0FBQ3JCLEtBQUksUUFBUyxRQUFTLFlBQVQsQ0FBYjtBQUNBLEtBQUksU0FBUyxRQUFTLGFBQVQsQ0FBYjtBQUNBLENBSEQ7Ozs7O0FDQUEsT0FBUSxVQUFVLENBQVYsRUFBYztBQUNyQixLQUFJLFNBQWdCLEVBQUcsdUJBQUgsRUFBNkIsSUFBN0IsQ0FBbUMsaUJBQW5DLEVBQXVELElBQXZELEVBQXBCO0FBQ0EsS0FBSSxVQUFnQixDQUFwQjtBQUNBLEtBQUksWUFBZ0IsRUFBcEIsQ0FIcUIsQ0FHRztBQUN4QixLQUFNLFNBQWMsSUFBcEI7QUFDQSxLQUFNLFVBQWMsR0FBcEI7QUFDQSxLQUFNLGNBQWMsR0FBcEI7QUFDQSxLQUFJLGdCQUFnQixjQUFjLE9BQWxDO0FBQ0EsYUFBYSxNQUFiLEVBQXFCLE9BQXJCO0FBQ0EsWUFBWSxPQUFaO0FBQ0E7O0FBRUE7O0FBRUE7OztBQUdBLEdBQUcsa0JBQUgsRUFBd0IsRUFBeEIsQ0FBNEIsT0FBNUIsRUFBcUMsWUFBVztBQUMvQyxNQUFJLFVBQVUsU0FBZCxFQUEwQjtBQUN6QixPQUFJLFFBQVEsRUFBRyxnQkFBSCxDQUFaO0FBQ0EsT0FBSSxXQUFXLEVBQUcsbUJBQW1CLEdBQW5CLEdBQXlCLEtBQTVCLENBQWY7O0FBRUE7O0FBRUE7QUFDQSxZQUNFLEtBREYsQ0FDUyxLQURULEVBRUUsV0FGRixDQUVlLEVBQUcsb0JBQXFCLFVBQVUsQ0FBL0IsSUFBcUMsS0FBeEMsQ0FGZixFQUdFLElBSEYsQ0FHUSxJQUhSLEVBR2MsZ0JB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RTtBQUMvRSxNQUFHLElBQUgsRUFBVSxHQUFWLENBQWUsT0FBZjtBQUNBLElBRk0sTUFFQTtBQUNOO0FBQ0EsTUFBRyxJQUFILEVBQVUsR0FBVixDQUFlLFFBQVEsT0FBUixDQUFmO0FBQ0EsTUFBRyxJQUFILEVBQVUsSUFBVixDQUFnQixPQUFoQixFQUF5QixTQUFVLFVBQVUsUUFBcEIsQ0FBekI7QUFDQTtBQUNELEdBdkREO0FBd0RBOztBQUVEOzs7QUFHQSxVQUFTLFFBQVQsR0FBb0I7QUFDbkIsSUFBRyx1QkFBSCxFQUE2QixRQUE3QixDQUF1QyxnQkFBdkMsRUFBMEQsSUFBMUQsQ0FBZ0UscUJBQWhFLEVBQXdGLElBQXhGLENBQThGLGNBQTlGLEVBQStHLEdBQS9HLENBQW9ILEVBQUcsdUJBQUgsRUFBNkIsUUFBN0IsQ0FBdUMsZ0JBQXZDLEVBQTBELElBQTFELENBQWdFLHFCQUFoRSxFQUF3RixJQUF4RixDQUE4RixPQUE5RixDQUFwSDtBQUNBOztBQUVELFVBQVMsVUFBVCxHQUFzQixDQUVyQjtBQUNELENBeE9EIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwialF1ZXJ5KCBmdW5jdGlvbiggJCApIHtcbn0gKTtcbiIsImpRdWVyeSggZnVuY3Rpb24oICQgKSB7XG5cdGxldCBvcmRlciAgPSByZXF1aXJlKCAnLi9vcmRlci5qcycgKTtcblx0bGV0IGNvbmZpZyA9IHJlcXVpcmUoICcuL2NvbmZpZy5qcycgKTtcbn0gKTtcbiIsImpRdWVyeSggZnVuY3Rpb24oICQgKSB7XG5cdGxldCAkdGl0bGUgICAgICAgID0gJCggJy5qcy1vcmRlci1pdGVtX19ibG9jaycgKS5maW5kKCAnLmpzLW9yZGVyLXRpdGxlJyApLnRleHQoKTtcblx0bGV0IGZybV9jbnQgICAgICAgPSAxO1xuXHRsZXQgbWF4X29yZGVyICAgICA9IDIwOyAvL+OCquODvOODgOODvOacgOWkp+aVsFxuXHRjb25zdCB0YXhMb3cgICAgICA9IDEuMDg7XG5cdGNvbnN0IHRheEhpZ2ggICAgID0gMS4xO1xuXHRjb25zdCBkZWxpdmVyeUZlZSA9IDUwMDtcblx0bGV0IGRlbHZlcnlGZWVUYXggPSBkZWxpdmVyeUZlZSAqIHRheEhpZ2g7XG5cdHRpdGxlTnVtYmVyKCAkdGl0bGUsIGZybV9jbnQgKTtcblx0dG90YWxQcmljZSggZnJtX2NudCApO1xuXHRwcmljZUNhbGN1bGF0aW9uKCk7XG5cblx0cmFkaW9WYWwoKTtcblxuXHQvKlxuXHRcdOazqOaWh+i/veWKoOODnOOCv+ODs1xuXHQqL1xuXHQkKCAnLmpzLWFkZC1vcmRlci1idCcgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0aWYoIGZybV9jbnQgPCBtYXhfb3JkZXIgKSB7XG5cdFx0XHRsZXQgJGl0ZW0gPSAkKCAnLmpzLW9yZGVyLWl0ZW0nICk7XG5cdFx0XHRsZXQgb3JpZ2luYWwgPSAkKCAnI29yZGVyLWl0ZW1cXFxcWycgKyBcIjBcIiArICdcXFxcXScpO1xuXG5cdFx0XHRmcm1fY250Kys7XG5cblx0XHRcdC8v44OH44O844K/6KSH6KO9XG5cdFx0XHRvcmlnaW5hbFxuXHRcdFx0XHQuY2xvbmUoIGZhbHNlIClcblx0XHRcdFx0Lmluc2VydEFmdGVyKCAkKCAnI29yZGVyLWl0ZW1cXFxcWycgKyAoIGZybV9jbnQgLSAxICkgKyAnXFxcXF0nKSApXG5cdFx0XHRcdC5hdHRyKCAnaWQnLCAnb3JkZXItaXRlbVsnICsgZnJtX2NudCArICddJylcblx0XHRcdFx0LmVuZCgpXG5cdFx0XHRcdC5maW5kKCAnaW5wdXQsIHNlbGVjdCcgKS5lYWNoKCBmdW5jdGlvbiggaWR4LCBvYmogKSB7XG5cdFx0XHRcdFx0JCggb2JqICkuYXR0cigge1xuXHRcdFx0XHRcdFx0aWQ6ICAgJCggb2JqICkuYXR0ciggJ2lkJyAgICkucmVwbGFjZSggL1xcW1swLTldXFxdKyQvLCAnWycgKyBmcm1fY250ICsgJ10nICksXG5cdFx0XHRcdFx0XHRuYW1lOiAkKCBvYmogKS5hdHRyKCAnbmFtZScgKS5yZXBsYWNlKCAvXFxbWzAtOV1cXF0rJC8sICdbJyArIGZybV9jbnQgKyAnXScgKSxcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0JCggb2JqICkudmFsKCAnJyApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHQvL2xhYmVs44OH44O844K/5aSJ5pu0XG5cdFx0XHQkKCAnI29yZGVyLWl0ZW1cXFxcWycgKyBmcm1fY250ICsgJ1xcXFxdJyApLmZpbmQoICdsYWJlbCcgKS5lYWNoKCBmdW5jdGlvbiggaWR4LCBvYmogKSB7XG5cdFx0XHRcdCQoIG9iaiApLmF0dHIoIHtcblx0XHRcdFx0XHRmb3I6ICQoIG9iaiApLmF0dHIoICdmb3InICkucmVwbGFjZSggL1xcW1swLTldXFxdKyQvLCAnWycgKyBmcm1fY250ICsgJ10nIClcblx0XHRcdFx0fSApO1xuXHRcdFx0fSApO1xuXHRcdFx0Ly8gY2xvbmXlj5blvpdcblx0XHRcdGxldCBjbG9uZSA9ICQoICcjb3JkZXItaXRlbVxcXFxbJyArIGZybV9jbnQgKyAnXFxcXF0nICk7XG5cblx0XHRcdGNsb25lX2J1Z2ZpeCggZnJtX2NudCApO1xuXG5cdFx0XHQvL+ODluODreODg+OCr+OCv+OCpOODiOODq+iqv+aVtFxuXHRcdFx0dGl0bGVOdW1iZXIoICR0aXRsZSwgZnJtX2NudCApO1xuXG5cdFx0XHQvL+ODqeOCuOOCquOBruODl+ODqeOCpOOCueOCkmhpZGRlbuOBq1xuXHRcdFx0cmFkaW9WYWwoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly/ms6jmlofmlbDjgYwx44Gu5aC05ZCI44Gv5Y+W44KK5raI44GX44Oc44K/44Oz44KS6Z2e6KGo56S6XG5cdFx0XHQkKCAnLmpzLWFkZC1vcmRlci1idCcgKS5jc3MoIFwiZGlzcGxheVwiLCBcIm5vbmVcIiApO1xuXHRcdH1cblx0XHR0b3RhbFByaWNlKCBmcm1fY250ICk7XG5cdFx0cHJpY2VDYWxjdWxhdGlvbigpO1xuXHR9ICk7XG5cblx0Lypcblx0XHTjg4fjg7zjgr/mtojljrvlh6bnkIZcblx0Ki9cblx0JCggZG9jdW1lbnQgKS5vbiggJ2NsaWNrJywgJy5qcy1kZWwtb3JkZXItYnQnLCBmdW5jdGlvbigpIHtcblx0XHRsZXQgcmVtb3ZlT2JqID0gJCggdGhpcyApLnBhcmVudCgpO1xuXHRcdHJlbW92ZU9iai5mYWRlT3V0KCAnZmFzdCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVtb3ZlT2JqLnJlbW92ZSgpO1xuXHRcdFx0ZnJtX2NudCA9IDE7XG5cdFx0XHQkKCBcIi5qcy1vcmRlci1pdGVtW2lkXj0nb3JkZXItaXRlbSddXCIgKS5lYWNoKCBmdW5jdGlvbiggaW5kZXgsIGZvcm1PYmogKSB7XG5cdFx0XHRcdGlmKCAkKCBmb3JtT2JqICkuYXR0ciggJ2lkJyApICE9ICdvcmRlci1pdGVtWzBdJyApIHtcblx0XHRcdFx0XHRmcm1fY250Kys7XG5cdFx0XHRcdFx0JCggZm9ybU9iaiApXG5cdFx0XHRcdFx0XHQuYXR0ciggJ2lkJywgJ29yZGVyLWl0ZW1bJyArIGZybV9jbnQgKyAnXScpXG5cdFx0XHRcdFx0XHQuZmluZCggJ2lucHV0JyApLmVhY2goIGZ1bmN0aW9uKCBpZHgsIG9iaiApIHtcblx0XHRcdFx0XHRcdFx0JCggb2JqICkuYXR0cigge1xuXHRcdFx0XHRcdFx0XHRcdGlkOiAkKCBvYmogKS5hdHRyKCAnaWQnICkucmVwbGFjZSggL1xcW1swLTldXFxdKyQvLCAnWycgKyBmcm1fY250ICsgJ10nICksXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogJCggb2JqICkuYXR0ciggJ25hbWUnICkucmVwbGFjZSggL1xcW1swLTldXFxdKyQvLCAnWycgKyBmcm1fY250ICsgJ10nIClcblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdC8vbGFiZWzjg4fjg7zjgr/lpInmm7Rcblx0XHRcdFx0XHQkKCAnI29yZGVyLWl0ZW1cXFxcWycgKyBmcm1fY250ICsgJ1xcXFxdJyApO1xuXHRcdFx0XHRcdCQoICcjb3JkZXItaXRlbVxcXFxbJyArIGZybV9jbnQgKyAnXFxcXF0nICkuZmluZCggJ2xhYmVsJyApLmVhY2goIGZ1bmN0aW9uKCBpZHgsIG9iaiApIHtcblx0XHRcdFx0XHRcdCQoIG9iaiApLmF0dHIoIHtcblx0XHRcdFx0XHRcdFx0Zm9yOiAkKCBvYmogKS5hdHRyKCAnZm9yJyApLnJlcGxhY2UoIC9cXFtbMC05XVxcXSskLywgJ1snICsgZnJtX2NudCArICddJyApXG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9Ly9lbmRpZjtcblx0XHRcdH0gKTtcblx0XHRcdHRpdGxlTnVtYmVyKCAkdGl0bGUsIGZybV9jbnQgKTtcblx0XHRcdHByaWNlQ2FsY3VsYXRpb24oKTtcblx0XHRcdGNsb25lX2J1Z2ZpeCggZnJtX2NudCApO1xuXHRcdH0gKTtcblx0XHRpZiggZnJtX2NudCA8IG1heF9vcmRlciApIHtcblx0XHRcdCQoICcuanMtYWRkLW9yZGVyLWJ0JyApLmNzcyggXCJkaXNwbGF5XCIsIFwiYmxvY2tcIiApO1xuXHRcdH1cblx0fSApO1xuXG5cdC8qXG5cdFx05ZWG5ZOB44OB44Kn44OD44Kv44Oc44OD44Kv44K55Yik5a6aXG5cdCovXG5cdGZ1bmN0aW9uIHRvdGFsUHJpY2UoIGZybV9jbnQgKSB7XG5cdFx0JCggJyNvcmRlci1pdGVtXFxcXFsnICsgZnJtX2NudCArICdcXFxcXScgKS5maW5kKCBcImlucHV0LCBzZWxlY3RcIiApLm9uKCBcImNoYW5nZVwiLCBmdW5jdGlvbiggaWR4LCBvYmogICkge1xuXHRcdFx0cHJpY2VDYWxjdWxhdGlvbigpO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8qXG5cdFx05ZCI6KiI6YeR6aGN566X5Ye6XG5cdCovXG5cdGZ1bmN0aW9uIHByaWNlQ2FsY3VsYXRpb24oIGNudCA9IDAsIG9uZV9wcmljZSA9IFtdKSB7XG5cdFx0bGV0ICRjaGVja2VkX29iaiA9IFt7fV07XG5cdFx0Zm9yKCBsZXQgaSA9IDA7IGkgPCBtYXhfb3JkZXI7IGkrKyApIHtcblx0XHRcdG9uZV9wcmljZVtpXSA9IFtdO1xuXHRcdH1cblx0XHQvL+ODqeOCuOOCquOBruODl+ODqeOCpOOCueOCkmhpZGRlbuOBq+a4oeOBmVxuXHRcdHJhZGlvVmFsKCk7XG5cblx0XHQkKCAnLmpzLW9yZGVyLWl0ZW1fX2Jsb2NrJyApLmNoaWxkcmVuKCAnLmpzLW9yZGVyLWl0ZW0nICkuZWFjaCggZnVuY3Rpb24oIGlkeCwgb2JqYWxsICkge1xuXHRcdFx0Ly/ms6jmlofmg4XloLHjg6rjgrnjg4jjga7jg6njg4Pjg5fjgr/jgrBcblx0XHRcdGxldCBvbmVfcHJpY2Vfc2hhcGluZyA9IDA7XG5cdFx0XHRsZXQgdG90YWxfcHJpY2U7XG5cblx0XHRcdC8v44K144Op44OA44Gu5Yem55CGXG5cdFx0XHQkKCBvYmphbGwgKS5maW5kKCAnaW5wdXQ6cmFkaW86Y2hlY2tlZCwgaW5wdXQ6Y2hlY2tib3g6Y2hlY2tlZCcgKS5lYWNoKCBmdW5jdGlvbiggaWR4MiwgY2hrb2JqICkge1xuXHRcdFx0XHQvL+ODgeOCp+ODg+OCr+OBruWFpeOBo+OBpuOBhOOCi+ODh+ODvOOCv+OCkuaknOe0olxuXHRcdFx0XHQkY2hlY2tlZF9vYmogPSB7XG5cdFx0XHRcdFx0aW5kZXg6IHBhcnNlSW50KCBmcm1fY250ICksXG5cdFx0XHRcdFx0cHJpY2U6IHBhcnNlSW50KCAkKCBjaGtvYmogKS5kYXRhKCAncHJpY2UnICkgKSxcblx0XHRcdFx0XHRxdWFudGl0eTogcGFyc2VJbnQoICQoIHRoaXMgKS5wYXJlbnRzKCAnLmpzLW9yZGVyLWl0ZW0nICkuZmluZCggJ3NlbGVjdCcgKS52YWwoKSApXG5cdFx0XHRcdH07XG5cdFx0XHRcdG9uZV9wcmljZVtpZHhdW2NudF0gPSBwYXJzZUludCggJGNoZWNrZWRfb2JqLnByaWNlICkgKiAkY2hlY2tlZF9vYmoucXVhbnRpdHk7XG5cdFx0XHRcdGNudCsrO1xuXHRcdFx0fSApO1xuXHRcdFx0b25lX3ByaWNlX3NoYXBpbmcgPSBvbmVfcHJpY2UuZmlsdGVyKCBmdW5jdGlvbiAoIGUgKSB7XG5cdFx0XHRcdHJldHVybiBlLmxlbmd0aDtcblx0XHRcdH0gKTtcblx0XHRcdHRvdGFsX3ByaWNlID0gb25lX3ByaWNlX3NoYXBpbmcucmVkdWNlKCBmdW5jdGlvbiggYSwgYiApIHsgcmV0dXJuIGEuY29uY2F0KCBiICkgfSApLnJlZHVjZSggZnVuY3Rpb24oIGEsIGIgKSB7IHJldHVybiBhICsgYiB9ICk7XG5cdFx0XHR0b3RhbF9wcmljZSA9ICggdG90YWxfcHJpY2UgKiB0YXhMb3cgKSArIGRlbHZlcnlGZWVUYXg7XG5cblx0XHRcdCQoICcjdG90YWwtcHJpY2UnICkuaHRtbCggTWF0aC5mbG9vciggdG90YWxfcHJpY2UgKSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8qXG5cdFx044K/44Kk44OI44Or44Gr44OK44Oz44OQ44Oq44Oz44Kw6L+95YqgXG5cdCovXG5cdGZ1bmN0aW9uIHRpdGxlTnVtYmVyKCAkdGl0bGUsIGZybV9jbnQgKSB7XG5cdFx0JCggJy5qcy1vcmRlci1pdGVtX19ibG9jaycgKS5maW5kKCAnLmpzLW9yZGVyLXRpdGxlJyApLmVhY2goIGZ1bmN0aW9uKCBpbmRleCwgZm9ybU9iaiApIHtcblx0XHRcdCQoIHRoaXMgKS50ZXh0KCAkdGl0bGUgKyAoIGluZGV4ICsgMSApICsgXCLjgaTjgoFcIiApO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8qXG5cdFx044Kv44Ot44O844Oz5pmC44Gr44OB44Kn44OD44Kv44GM44Gv44GE44KJ44Gq44GE44OQ44Kw44OV44Kj44OD44Kv44K5XG5cdCovXG5cdGZ1bmN0aW9uIGNsb25lX2J1Z2ZpeCggZnJtX2NudCApIHtcblx0XHQvL2Nsb25l44Gn44OB44Kn44OD44Kv44Oc44OD44Kv44K544Gu44OH44O844K/44GM5Y+W5b6X44Gn44GN44Gq44GE44OQ44Kw5a++5b+cXG5cdFx0bGV0IGl0ZW1BcnIgICA9IFtdO1xuXHRcdGxldCBwcmljZUFyciAgPSBbXTtcblx0XHQkKCAnI29yZGVyLWl0ZW1cXFxcWycgKyAxICsgJ1xcXFxdJyApLmZpbmQoICdpbnB1dCwgc2VsZWN0JyApLmVhY2goIGZ1bmN0aW9uKCBpZHgsIG9iaiApIHtcblx0XHRcdGl0ZW1BcnJbICQoIHRoaXMgKS5hdHRyKCAnbmFtZScgKSBdID0gJCggdGhpcyApLnZhbCgpO1xuXHRcdFx0cHJpY2VBcnJbICggJCggdGhpcyApLmF0dHIoICduYW1lJyApICkgKyAnLXByaWNlJyBdID0gJCggdGhpcyApLmF0dHIoICdkYXRhLXByaWNlJyApO1xuXHRcdH0gKTtcblx0XHQkKCAnI29yZGVyLWl0ZW1cXFxcWycgKyBmcm1fY250ICsgJ1xcXFxdJyApLmZpbmQoICdpbnB1dCwgc2VsZWN0JyApLmVhY2goIGZ1bmN0aW9uKCBpZHggLCBvYmogKSB7XG5cdFx0XHRsZXQgb2JqbmFtZSA9ICQoIG9iaiApLmF0dHIoICduYW1lJyApLnJlcGxhY2UoICdbJyArIGZybV9jbnQgKyAnXScgLCAnWycgKyAxICsgJ10nICk7XG5cdFx0XHQkKCBvYmogKS5hdHRyKCAnbmFtZScgKS5yZXBsYWNlKCAnWycgKyBmcm1fY250ICsgJ10nICwgJ1snICsgMSArICddJyApOyAvL3NlbGVjdCBvcHRpb24g44GuIHNlbGVjdGVkIOOCkue2meaJv1xuXHRcdFx0aWYoICQoIHRoaXMgKS5hdHRyKCAnbmFtZScgKSA9PSAnb3JkZXItaXRlbS1udW1bJyArIGZybV9jbnQgKyAnXScgKSB7XG5cdFx0XHRcdC8v44Kq44O844OA44O855Wq5Y+344Gu44G/55Wq5Y+344KS5aSJ5pu044GX44Gm5qC857SNXG5cdFx0XHRcdCQoIHRoaXMgKS52YWwoIGZybV9jbnQgKTtcblx0XHRcdH0gZWxzZSBpZiAoICQoIHRoaXMgKS5hdHRyKCAnaWQnICkgPT0gJ2dyZWVuLXNhbGFkLWEtclsnICsgZnJtX2NudCArICddJyApIHtcblx0XHRcdFx0Ly/jgrfjg6Pjgq3jgrfjg6Pjgq3jgrXjg6njg4Ag44Os44Ku44Ol44Op44O8XG5cdFx0XHRcdCQoIHRoaXMgKS52YWwoICfjgrfjg6Pjgq3jgrfjg6Pjgq3jgrXjg6njg4Ag44Os44Ku44Ol44Op44O8JyApO1xuXHRcdFx0XHQkKCB0aGlzICkucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG5cdFx0XHR9IGVsc2UgaWYgKCAkKCB0aGlzICkuYXR0ciggJ2lkJyApID09ICdncmVlbi1zYWxhZC1hLWxbJyArIGZybV9jbnQgKyAnXScgKSB7XG5cdFx0XHRcdC8v44K344Oj44Kt44K344Oj44Kt44K144Op44OAIOODqeODvOOCuFxuXHRcdFx0XHQkKCB0aGlzICkudmFsKCAn44K344Oj44Kt44K344Oj44Kt44K144Op44OAIOODqeODvOOCuCcgKTtcblx0XHRcdH0gZWxzZSBpZiAoICQoIHRoaXMgKS5hdHRyKCAnaWQnICkgPT0gJ2dyZWVuLXNhbGFkLWItclsnICsgZnJtX2NudCArICddJyApIHtcblx0XHRcdFx0Ly8056iu44Gu44Kw44Oq44O844Oz44K144Op44OAIOODrOOCruODpeODqeODvFxuXHRcdFx0XHQkKCB0aGlzICkudmFsKCAnNOeoruOBruOCsOODquODvOODs+OCteODqeODgCDjg6zjgq7jg6Xjg6njg7wnICk7XG5cdFx0XHR9IGVsc2UgaWYgKCAkKCB0aGlzICkuYXR0ciggJ2lkJyApID09ICdncmVlbi1zYWxhZC1iLWxbJyArIGZybV9jbnQgKyAnXScgKSB7XG5cdFx0XHRcdC8vNOeoruOBruOCsOODquODvOODs+OCteODqeODgCDjg6njg7zjgrhcblx0XHRcdFx0JCggdGhpcyApLnZhbCggJzTnqK7jga7jgrDjg6rjg7zjg7PjgrXjg6njg4Ag44Op44O844K4JyApO1xuXHRcdFx0fSBlbHNlIGlmICggJCggdGhpcyApLmF0dHIoICdpZCcgKSA9PSAnZnJlc2gtc2FsYWQtclsnICsgZnJtX2NudCArICddJyApIHtcblx0XHRcdFx0Ly8056iu44Gu44Kw44Oq44O844Oz44K144Op44OAIOODqeODvOOCuFxuXHRcdFx0XHQkKCB0aGlzICkudmFsKCAn44OV44Os44OD44K344Ol44K144Op44OAIOODrOOCruODpeODqeODvCcgKTtcblx0XHRcdH0gZWxzZSBpZiAoICQoIHRoaXMgKS5hdHRyKCAnaWQnICkgPT0gJ2ZyZXNoLXNhbGFkLWxbJyArIGZybV9jbnQgKyAnXScgKSB7XG5cdFx0XHRcdC8vNOeoruOBruOCsOODquODvOODs+OCteODqeODgCDjg6njg7zjgrhcblx0XHRcdFx0JCggdGhpcyApLnZhbCggJ+ODleODrOODg+OCt+ODpeOCteODqeODgCDjg6njg7zjgrgnICk7XG5cdFx0XHR9IGVsc2UgaWYgKCAkKCB0aGlzICkuYXR0ciggJ2lkJyApID09ICdsYWJlZ2ktc2FsYWQtclsnICsgZnJtX2NudCArICddJyApIHtcblx0XHRcdFx0Ly8056iu44Gu44Kw44Oq44O844Oz44K144Op44OAIOODqeODvOOCuFxuXHRcdFx0XHQkKCB0aGlzICkudmFsKCAn44Op44OZ44K444K144Op44OAIOODrOOCruODpeODqeODvCcgKTtcblx0XHRcdH0gZWxzZSBpZiAoICQoIHRoaXMgKS5hdHRyKCAnaWQnICkgPT0gJ2xhYmVnaS1zYWxhZC1sWycgKyBmcm1fY250ICsgJ10nICkge1xuXHRcdFx0XHQvLzTnqK7jga7jgrDjg6rjg7zjg7PjgrXjg6njg4Ag44Op44O844K4XG5cdFx0XHRcdCQoIHRoaXMgKS52YWwoICfjg6njg5njgrjjgrXjg6njg4Ag44Op44O844K4JyApO1xuXHRcdFx0fSBlbHNlIGlmICggJCggdGhpcyApLmF0dHIoICdpZCcgKSA9PSAnc21zYWxtb24tbXVzaC1zYWxhZC1yWycgKyBmcm1fY250ICsgJ10nICkge1xuXHRcdFx0XHQvLzTnqK7jga7jgrDjg6rjg7zjg7PjgrXjg6njg4Ag44Op44O844K4XG5cdFx0XHRcdCQoIHRoaXMgKS52YWwoICfjgrXjg7zjg6Ljg7MmYW1wO+ODnuODg+OCt+ODpeODq+ODvOODoOOCteODqeODgCDjg6zjgq7jg6Xjg6njg7wnICk7XG5cdFx0XHR9IGVsc2UgaWYgKCAkKCB0aGlzICkuYXR0ciggJ2lkJyApID09ICdzbXNhbG1vbi1tdXNoLXNhbGFkLWxbJyArIGZybV9jbnQgKyAnXScgKSB7XG5cdFx0XHRcdC8vNOeoruOBruOCsOODquODvOODs+OCteODqeODgCDjg6njg7zjgrhcblx0XHRcdFx0JCggdGhpcyApLnZhbCggJ+OCteODvOODouODsyZhbXA744Oe44OD44K344Ol44Or44O844Og44K144Op44OAIOODqeODvOOCuCcgKTtcblx0XHRcdH0gZWxzZSBpZiAoICQoIHRoaXMgKS5hdHRyKCAnaWQnICkgPT0gJ251dHMtc2FsYWQtclsnICsgZnJtX2NudCArICddJyApIHtcblx0XHRcdFx0Ly8056iu44Gu44Kw44Oq44O844Oz44K144Op44OAIOODqeODvOOCuFxuXHRcdFx0XHQkKCB0aGlzICkudmFsKCAn44OK44OD44OE44K144Op44OAIOODrOOCruODpeODqeODvCcgKTtcblx0XHRcdH0gZWxzZSBpZiAoICQoIHRoaXMgKS5hdHRyKCAnaWQnICkgPT0gJ251dHMtc2FsYWQtbFsnICsgZnJtX2NudCArICddJyApIHtcblx0XHRcdFx0Ly8056iu44Gu44Kw44Oq44O844Oz44K144Op44OAIOODqeODvOOCuFxuXHRcdFx0XHQkKCB0aGlzICkudmFsKCAn44OK44OD44OE44K144Op44OAIOODqeODvOOCuCcgKTtcblx0XHRcdH0gZWxzZSBpZiAoICQoIHRoaXMgKS5hdHRyKCAnaWQnICkgPT0gJ29uaW9uLXNhbGFkLXJbJyArIGZybV9jbnQgKyAnXScgKSB7XG5cdFx0XHRcdC8vNOeoruOBruOCsOODquODvOODs+OCteODqeODgCDjg6njg7zjgrhcblx0XHRcdFx0JCggdGhpcyApLnZhbCggJ+OCquODi+OCquODs+OCteODqeODgCDjg6zjgq7jg6Xjg6njg7wnICk7XG5cdFx0XHR9IGVsc2UgaWYgKCAkKCB0aGlzICkuYXR0ciggJ2lkJyApID09ICdxdWFudGl0eVsnICsgZnJtX2NudCArICddJyApIHtcblx0XHRcdFx0JCggdGhpcyApLnZhbCggMSApOyAvL3NlbGVjdO+8iOazqOaWh+aVsO+8iSDjga/jg4fjg5Xjgqnjg6vjg4jjgpIx44GrXG5cdFx0XHR9IGVsc2UgaWYgKCAkKCB0aGlzICkuYXR0ciggJ25hbWUnICkgPT0gICdncmVlbi1zYWxhYS1wcmljZVsnICsgZnJtX2NudCArICddJyApIHtcblx0XHRcdFx0JCggdGhpcyApLnZhbCggZnJtX2NudCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly/jgZ3jgozku6XlpJbjga/lgKTjgpLntpnmib9cblx0XHRcdFx0JCggdGhpcyApLnZhbCggaXRlbUFycltvYmpuYW1lXSApO1xuXHRcdFx0XHQkKCB0aGlzICkuZGF0YSggJ3ByaWNlJywgcHJpY2VBcnJbIG9iam5hbWUgKyAnLXByaWNlJyBdICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG5cblx0Lypcblx0XHTjg6njgrjjgqrjga7jg5fjg6njgqTjgrnjgpJoaWRkZW7jgavmuKHjgZlcblx0Ki9cblx0ZnVuY3Rpb24gcmFkaW9WYWwoKSB7XG5cdFx0JCggJy5qcy1vcmRlci1pdGVtX19ibG9jaycgKS5jaGlsZHJlbiggJy5qcy1vcmRlci1pdGVtJyApLmZpbmQoICdpbnB1dDpyYWRpbzpjaGVja2VkJyApLm5leHQoICdpbnB1dDpoaWRkZW4nICkudmFsKCAkKCAnLmpzLW9yZGVyLWl0ZW1fX2Jsb2NrJyApLmNoaWxkcmVuKCAnLmpzLW9yZGVyLWl0ZW0nICkuZmluZCggJ2lucHV0OnJhZGlvOmNoZWNrZWQnICkuZGF0YSggJ3ByaWNlJyApICk7XG5cdH1cblxuXHRmdW5jdGlvbiB2YWxpRGF0aW9uKCkge1xuXG5cdH1cbn0gKTtcbiJdfQ==
